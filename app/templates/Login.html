<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>El-Mustafa Academy</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='login/stud-Login.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='login/css/bootstrap.css') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&family=El+Messiri:wght@400..700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Marhey:wght@300..700&display=swap" rel="stylesheet">
</head> 
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-light bg-light">
    <div style="display: flex; gap: 20px;">
      <a href="/app/templetes/stud-Login.html">
        <img id="img-nav" src="{{ url_for('static', filename='img/3MS.png') }}" alt="">
      </a>
      <div class="dropdown">
        <button style="margin-top: 7px; width: 310px; border-radius: 8px;" class="btn btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          خبرات سابقه 
        </button>
        <ul style="text-align: right;" class="dropdown-menu dropdown-menu-dark">
          <li><a class="dropdown-item" href="#">معلم أول (أ) احياء وجيولوجيا بمدرسة : ــ</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="#">الحرية الثانوية المشتركة  المنيا - دمشير</a></li>
          <li><a class="dropdown-item" href="#">عبد الجابر محمد على  المشتركة - المنيا طوة</a></li>
          <li><a class="dropdown-item" href="#">تله الثانوية المشتركة المنيا تله</a></li>
          <li><a class="dropdown-item" href="#">يونس صميدة الثانوية المشتركة</a></li>
        </ul>
      </div>
    </div>
    

    <form style="position: relative;" id="form-nav" class="form-inline">
      <button id="button-nav1" class="btn btn-outline-primary" type="button" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">تسجيل دخول</button>
      <button id="button-nav2" class="btn btn-sm btn-outline-secondary" type="button" data-toggle="modal" data-target="#buttom-2" data-whatever="@mdo">إنشاء حساب</button>
    </form>
  </nav>

<!-- Login Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Sign In</h5>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="login-form" novalidate>
          <div class="form-group">
            <label for="login-username">Username:</label>
            <input class="form-control" id="login-username" name="username" type="text" placeholder="User_name" required>
          </div>
          <div class="form-group">
            <label for="login-password">Password:</label>
            <input class="form-control" id="login-password" name="password" type="password" placeholder="**************" required>
          </div>
          <div class="alert alert-danger d-none" id="login-error"></div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="login-submit">Submit</button>
      </div>
    </div>
  </div>
</div>

<!-- Registration Modal -->
<div class="modal fade" id="buttom-2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Sign Up</h5>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="register-form" novalidate>
          <div class="form-group">
            <label for="register-username">Username:</label>
            <input class="form-control" id="register-username" name="username" type="text" placeholder="User_name" required>
          </div>
          <div class="form-group">
            <label for="register-stage">Grade:</label>
            <select class="form-control" id="register-stage" name="stage" required>
              <option value="">اختر المرحلة</option>
              <option value="first">الاول الثانوي</option>
              <option value="second">الثاني الثانوي</option>
              <option value="third">الثالث الثانوي</option>
            </select>
          </div>
          <div class="form-group">
            <label for="register-phone-number">Phone Number:</label>
            <input class="form-control" id="register-phone-number" name="phone_number" type="tel" placeholder="0123456789" required>
          </div>
          <div class="form-group">
            <label for="register-email">Email:</label>
            <input class="form-control" id="register-email" name="email" type="email" placeholder="account@gmail.com" required>
          </div>
          <div class="form-group">
            <label for="register-password">Password:</label>
            <input class="form-control" id="register-password" name="password" type="password" placeholder="**************" required>
          </div>
          <div class="alert alert-danger d-none" id="register-error"></div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="register-submit">Submit</button>
      </div>
    </div>
  </div>
</div>


  <!-- big img  -->
  <div class="contaner">
    <img style="width:100%;height:72vh;" src="{{ url_for('static', filename='img/Academy3.gif') }}" alt="">
    <div style="margin-left: 20px;">
      
   <!-- links -->

    <div style="position: absolute; margin-left: 20px;">
      <!-- Facebook -->
      <a
      data-mdb-ripple-init
        class="btn text-white btn-floating m-1"
        style="background-color: #078bff;"
        href="https://www.facebook.com/profile.php?id=100003632809846&mibextid=ZbWKwL"
        role="button"
        ><i class="fab fa-facebook-f"></i
      ></a>
   
      <!-- youtube -->
      <a
        data-mdb-ripple-init
        class="btn text-white btn-floating m-1"
        style="background-color: #ff0f0f;"
        href="https://www.youtube.com/@user-xu3zr4lq5f"
        role="button"
        ><i class="fab fa-youtube"></i
      ></a>
   
      <!-- Google -->
      <a
        data-mdb-ripple-init
        class="btn text-white btn-floating m-1"
        style="background-color: #dd4b39;"
        href="#!"
        role="button"
        ><i class="fab fa-google"></i
      ></a>
   
      <!-- Instagram -->
      <a
        data-mdb-ripple-init
        class="btn text-white btn-floating m-1"
        style="background-color: #ac2bac;"
        href="#!"
        role="button"
        ><i class="fab fa-instagram"></i
      ></a>
   

    </div>
  </div>


  <script>
    // Validate Registration Form
    document.getElementById('register-form').addEventListener('input', function () {
      const isValid = [...this.elements].every(input => input.checkValidity());
      document.getElementById('register-submit').disabled = !isValid;
    });
  
    // Prevent default form submission on Enter key
    document.getElementById('register-form').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        document.getElementById('register-submit').click();
      }
    });
  
    // Registration functionality
    document.getElementById('register-submit').addEventListener('click', async () => {
      const username = document.getElementById('register-username').value;
      const stage = document.getElementById('register-stage').value;
      const phoneNumber = document.getElementById('register-phone-number').value;
      const email = document.getElementById('register-email').value;
      const password = document.getElementById('register-password').value;
  
      if (!username || !stage || !phoneNumber || !email || !password) {
        document.getElementById('register-error').innerText = 'All fields are required.';
        document.getElementById('register-error').classList.remove('d-none');
        return;
      }
  
      const response = await fetch('/', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          username,
          email,
          password,
          stage,
          phone_number: phoneNumber
        })
      });
  
      const data = await response.json();
      if (response.ok) {
        alert('User registered successfully');
        window.location.href = data.redirect;
      } else {
        document.getElementById('register-error').innerText = data.message;
        document.getElementById('register-error').classList.remove('d-none');
      }
    });
  
    // Validate Login Form
    document.getElementById('login-form').addEventListener('input', function () {
      const isValid = [...this.elements].every(input => input.checkValidity());
      document.getElementById('login-submit').disabled = !isValid;
    });
  
    // Prevent default form submission on Enter key
    document.getElementById('login-form').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        document.getElementById('login-submit').click();
      }
    });
  
    // Login functionality
    document.getElementById('login-submit').addEventListener('click', function() {
      const username = document.getElementById('login-username').value;
      const password = document.getElementById('login-password').value;
  
      if (!username || !password) {
        document.getElementById('login-error').innerText = 'Both fields are required.';
        document.getElementById('login-error').classList.remove('d-none');
        return;
      }
  
      fetch('/', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ username, password })
      })
      .then(response => response.json())
      .then(data => {
        if (data.redirect) {
          alert('Login successful');
          window.location.href = data.redirect;
        } else {
          document.getElementById('login-error').innerText = data.message || 'Invalid username or password';
          document.getElementById('login-error').classList.remove('d-none');
        }
      })
      .catch(error => {
        console.error('Error:', error);
      });
    });
  </script>
  
  

  <footer class="bg-body-tertiary text-center">
    <!-- Grid container -->
    <div class="container p-4 pb-0">
      <!-- Section: Social media -->
      <section class="mb-4">


      </section>
      <!-- Section: Social media -->
    </div>
    <!-- Grid container -->
  
    <!-- Copyright -->
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.05);">
 <!-- marquee -->
 <marquee  style="background-color: #0095ff; color: aliceblue;height: 50px;font-size: x-large;text-align: center;" behavior="scroll" direction="right">
  <h1 id="font-names">
  
  د/ محمد ابراهيم امين   - 
  د/ احمد حمدى مخلوف  - 
  د/ شيماء سيد محمد عبد السيد - 
  د/ منار عبد العزيز - 
  د/ عمر سامح حسين عباس - 
  د/ امنيه منصور - 
  د/احمد محمد زكى - 
  د/احلام محمد ابراهيم - 
  د/ فاطمه على سيد - 
  د/ سوسنا عاطف - 
  د/ سمية على النحاس  - 
  م/ أحمد سيف النصر  - 
  د/ احمد محمد حسين - 
  د/ فاطمه عطيه - 
  د/ دعاء شعبان  محمد - 
  د/ هاجر عيون سيد - 
  د/ رمضان محمود - 
  د/ صفيه مصطفي نور الدين - 
  د/ اسراء حجاج - 
  د/ احمد عمار عبد الماجد - 
  د/ على شحاته - 
  د/ حمدى فتحى حسن - 
  د/ نهال عقيله - 
  د/ اسراء احمد فرغلى - 
  د/ شيماء فتحى محمد - 
  د/ اسماء عيسي - 
  د/ شمس هانى هارون - 
  د/ دعاء سيد - 
  د/ عبير سعد عبد العظيم - 
  د/ خلود مجاهد - 
  د/ فاطمه مؤمن على - 
  د/ شريف خليل - 
  د/ ايه عاطف - 
  د/ ريم ربيع عبد الرحمن - 
  د/ رنا عبد الله محمد حيدر - 
  د/ داليا احمد سعد احمد - 
  د/ نور هانى هارون - 
  د/ سالى ملاك - 
  د/ احمد عادل  يوسف - 
  د/ -ياسمين مصطفي - 
  د/ الاء محمد خليل - 
  د/ هدير ربيع - 
  د/ ندى على ربيع  - 
  د/ فاطمة محمد محسب - 
  د/ نجوى محمد علي - 
  د/ امل على خلف - 
  د/ زينب رضا - 
  د/ وفاءمحمد خلف - 
  د/ ندى حمدى - 
  د/ جهاد حسن - 
  د/ رمضان محمد السلمان - 
  د/ جهاد اسامه - 
  د/ الاء محمد دكرورى - 
  د/ اسراء مجاهد - 
  د/ حاتم محمد سيد - 
  د/ دعاء مصطفى - 
  د/ حسام نبيل رمضان صميده - 
  د / سماره محروس - 
  د/ فاطمه محمد - 
  د/ احمد عبد الودود - 
  د/ رحمه محمد حسن - 
  د/ ميرنا محمد محسب - 
  د/ صابرين شعبان  - 
  د/ محمد عمر  - 
  د/ نضال طاهر 
</h1>

</marquee>
</div>
<!-- Copyright -->
</footer>
  

<script src="{{ url_for('static', filename='login/js/popper.min.js') }}"></script>
<script src="{{ url_for('static', filename='login/js/jquery-3.7.1.min.js') }}"></script>
<script src="{{ url_for('static', filename='login/js/bootstrap.js') }}"></script>
<script src="{{ url_for('static', filename='login/stud-Login.js') }}"></script>
</body>
</html> 